<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Demo audio file input</title>

    <script src="../../../cubx.core.rte@1.4.0-SNAPSHOT/webcomponents/webcomponents-lite.js"></script>

    <script>
        window.cubx = {
            "CRCInit": {
                "rootDependencies": [
                    "this/input-audio-file/main",
                ]
            }
        }
    </script>

    <!-- include crc-loader webresource from base
        1) Want to add a main script?
        Add the following attribute: data-crc-main="js/main.js"
    -->

    <script src="../../../cubx.core.rte@1.4.0-SNAPSHOT/crc-loader/js/main.js" data-CRCInit.loadCIF="true" data-crc-main="main.js"></script>

</head>
<body>
<h2>IDMT audio file input</h2>
<p>This component loads audio file from destination set via <code>source</code> slot. The audio samples are send blockwise in realtime over the <code>samples</code> output slot.
    The format is <code>Float32Array</code> and contains 2048 samples from -1 to 1 at a sample rate of 44100 Hz.
    Sending audio data can be triggered over the <code>state</code> slot which receives on of the possible strings from the <code>allStates</code> (play, stop, pause) slot.
When playback is paused/stopped samples with 0s are send so component sends data continously to connected slot for display/output.</p>
<p>This example is a small audio player which sends the audio samples from the component to audio output device and sets the state via buttons.</p>
<hr>
<!-- The cubixx client-runtime-container is bound to the next div -->
<div cubx-core-crc>
    <!-- Change this to your element name ... -->
    <input-audio-file></input-audio-file>
</div>
<div>
Source:
<input type="text" id="testInput" 
       value="https://www.freesound.org/data/previews/2/2684_5150-lq.mp3"
       onchange="sourceChanged()"/>
</div>
</br>
<div>
<button type="button" onclick="playClicked()">Play</button>
<button type="button" onclick="stopClicked()">Stop</button>
<button type="button" onclick="pauseClicked()">Pause</button>
</div>
</body>
</html>
