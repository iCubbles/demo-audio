<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Audio player app</title>

    <script src="../../../cubx.core.rte@2.1.0/webcomponents-lite/webcomponents-lite.js"></script>

    <!-- include crc-loader webresource from base
        1) Want to add a main script?
        Add the following attribute: data-crc-main="js/main.js"
    -->

    <script src="../../../cubx.core.rte@2.1.0/crc-loader/js/main.js" data-CRCInit.loadCIF="true"></script>

</head>
<body>
<div class="container">
    <h3>Components for streaming samples from audio file and forwarding manipulated audio signal to speakers
    Real-time signal processing components</h3>
    <ul class="list-group">
        <li class="list-group-item">Windowed Fast Fourier transform and inverse (FFT/iFFT)</li>
        <li class="list-group-item">Three-band equalizer (EQ) based on FFT magnitude spectrogram</li>
        <li class="list-group-item">Control components like sliders and buttons taken from Cubbles framework</li>
        <li class="list-group-item">Audio player created by connecting components using Extensible Markup Language (XML) without additional programming</li>
    </ul>
    <h3>Signal chain:</h3>
    <img src="signal_flow.png" class="img-responsive">
    <h3>Compound:</h3>
    <audio-player cubx-webpackage-id="this"></audio-player>
</div>

<script>
    document.addEventListener('cifReady', function() {
        $('audio-player').addClass('row');

        //file inputs
        $('audio-player').children('[member-id="inputText"], [member-id="selectFile"]').wrapAll("<div class='row vertical-align'></div>");
        var inputTextFile = $('[member-id="inputText"]');
        inputTextFile.find('article').children().wrapAll("<div class='row vertical-align'></div>");
        inputTextFile.find('label').addClass('label');

        //button bar
        $('cubx-button').addClass('col-md-4');

        //we could also search for all sliders but this way is more stable and could be used in bde
        $('[member-id="volumeSlider"]').addClass('col-md-3');
        $('[member-id="bassSlider"]').addClass('col-md-3');
        $('[member-id="middleSlider"]').addClass('col-md-3');
        $('[member-id="trebleSlider"]').addClass('col-md-3');

        $('cubx-number-input').find('label').addClass('col-md-1');
        $('cubx-number-input').find('input').addClass('col-md-11');
    });
</script>
</body>
</html>
